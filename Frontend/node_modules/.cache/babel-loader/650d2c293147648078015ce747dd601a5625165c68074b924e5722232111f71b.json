{"ast":null,"code":"import _slicedToArray from\"C:/Dal_project/Advance_Cloud_5409/TA/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'../Styles/todo.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Todo(){var navigate=useNavigate();var handleLogout=function handleLogout(){// Implement your logout logic here\nnavigate('/login');};// Define state variables for task input fields\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),dueDate=_useState6[0],setDueDate=_useState6[1];var _useState7=useState('pending'),_useState8=_slicedToArray(_useState7,2),status=_useState8[0],setStatus=_useState8[1];// Default status is 'pending'\nvar _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),successMessage=_useState10[0],setSuccessMessage=_useState10[1];// Handle the form submission to create a new task\nvar handleTaskSubmit=function handleTaskSubmit(e){e.preventDefault();// Fetch the user ID from local storage\nvar userId=localStorage.getItem('userId');// Create a new task object\nvar newTask={userId:userId,title:title,description:description,dueDate:dueDate,status:status};fetch('https://ing0p7y9va.execute-api.us-east-1.amazonaws.com/create-task',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(newTask)}).then(function(response){if(response.ok){// Task creation was successful, you can handle success here\nconsole.log('Task created successfully');// Clear the form fields\nsetTitle('');setDescription('');setDueDate('');setStatus('pending');// Reset status to 'pending'\nsetSuccessMessage('Task successfully created!');setTimeout(function(){setSuccessMessage('');},5000);// Hide message after 5 seconds\n}else{// Task creation failed, handle the error\nconsole.error('Task creation failed');}}).catch(function(error){console.error('Error creating task:',error);});};useEffect(function(){// Clear the success message after 5 seconds\nvar timeout=setTimeout(function(){setSuccessMessage('');},5000);return function(){return clearTimeout(timeout);};},[successMessage]);var handleViewTasksClick=function handleViewTasksClick(){console.log(\"View task button is clicked\");navigate('/view-task');};return/*#__PURE__*/_jsxs(\"div\",{className:\"todo-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"todo-header\",children:\"Create new task!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Task\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleTaskSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Task Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",placeholder:\"Enter task title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",placeholder:\"Enter task description\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dueDate\",children:\"Due Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"dueDate\",value:dueDate,onChange:function onChange(e){return setDueDate(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"Status:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"status\",value:status,onChange:function onChange(e){return setStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Task\"})]})]}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:successMessage}),/*#__PURE__*/_jsx(\"button\",{className:\"view-tasks-button\",onClick:handleViewTasksClick,children:\"View your task.\"})]});}export default Todo;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Todo","navigate","handleLogout","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","description","setDescription","_useState5","_useState6","dueDate","setDueDate","_useState7","_useState8","status","setStatus","_useState9","_useState10","successMessage","setSuccessMessage","handleTaskSubmit","e","preventDefault","userId","localStorage","getItem","newTask","fetch","method","headers","body","JSON","stringify","then","response","ok","console","log","setTimeout","error","catch","timeout","clearTimeout","handleViewTasksClick","className","children","onClick","onSubmit","htmlFor","type","id","placeholder","value","onChange","target","required"],"sources":["C:/Dal_project/Advance_Cloud_5409/TA/frontend/src/Components/todo.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../Styles/todo.css';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Todo() {\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    // Implement your logout logic here\r\n    navigate('/login');\r\n  };\r\n\r\n  // Define state variables for task input fields\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [dueDate, setDueDate] = useState('');\r\n  const [status, setStatus] = useState('pending'); // Default status is 'pending'\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  // Handle the form submission to create a new task\r\n  const handleTaskSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Fetch the user ID from local storage\r\n    const userId = localStorage.getItem('userId');\r\n\r\n    // Create a new task object\r\n    const newTask = {\r\n      userId,\r\n      title,\r\n      description,\r\n      dueDate,\r\n      status,\r\n    };\r\n\r\n    fetch('https://ing0p7y9va.execute-api.us-east-1.amazonaws.com/create-task', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(newTask),\r\n    })\r\n      .then((response) => {\r\n        if (response.ok) {\r\n          // Task creation was successful, you can handle success here\r\n          console.log('Task created successfully');\r\n          // Clear the form fields\r\n          setTitle('');\r\n          setDescription('');\r\n          setDueDate('');\r\n          setStatus('pending'); // Reset status to 'pending'\r\n          setSuccessMessage('Task successfully created!');\r\n          setTimeout(() => {\r\n            setSuccessMessage('');\r\n          }, 5000); // Hide message after 5 seconds\r\n\r\n        } else {\r\n          // Task creation failed, handle the error\r\n          console.error('Task creation failed');\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error creating task:', error);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Clear the success message after 5 seconds\r\n    const timeout = setTimeout(() => {\r\n      setSuccessMessage('');\r\n    }, 5000);\r\n    return () => clearTimeout(timeout);\r\n  }, [successMessage]);\r\n  \r\n  const handleViewTasksClick = () => {\r\n    console.log(\"View task button is clicked\")\r\n    navigate('/view-task');\r\n  };\r\n\r\n  return (\r\n    <div className=\"todo-container\">\r\n      <button className=\"logout-button\" onClick={handleLogout}>\r\n        Logout\r\n      </button>\r\n      <h1 className=\"todo-header\">Create new task!</h1>\r\n      <div className=\"task-form\">\r\n        <h2>Add Task</h2>\r\n        <form onSubmit={handleTaskSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"title\">Task Title:</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"title\"\r\n              placeholder=\"Enter task title\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"description\">Description:</label>\r\n            <textarea\r\n              id=\"description\"\r\n              placeholder=\"Enter task description\"\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              required\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"dueDate\">Due Date:</label>\r\n            <input\r\n              type=\"date\"\r\n              id=\"dueDate\"\r\n              value={dueDate}\r\n              onChange={(e) => setDueDate(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"status\">Status:</label>\r\n            <select\r\n              id=\"status\"\r\n              value={status}\r\n              onChange={(e) => setStatus(e.target.value)}\r\n            >\r\n              <option value=\"pending\">Pending</option>\r\n              <option value=\"completed\">Completed</option>\r\n            </select>\r\n          </div>\r\n          <button type=\"submit\">Add Task</button>\r\n        </form>\r\n      </div>\r\n      {successMessage && (\r\n        <div className=\"success-message\">{successMessage}</div>\r\n      )}\r\n        <button\r\n          className=\"view-tasks-button\"\r\n          onClick={handleViewTasksClick}\r\n        >\r\n          View your task.\r\n        </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Todo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}